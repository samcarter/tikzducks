%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% TikZ library for the tikzducks package
% A package to bring rubber ducks into tikz
% Maintained by samcarter
%
% Project repository and bug tracker:
% https://github.com/samcarter/tikzducks
%
% Released under the LaTeX Project Public License v1.3c or later
% See http://www.latex-project.org/lppl.txt
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\catcode`\@=11

\ifcsname usemodule\endcsname
    \usemodule[tikzducks]
	%It prints a weird message on ConTeXt
	%But otherwise, it works without further issues
    \def\ctx@tikzducks@colors{\normalunexpanded{\setup[tikzducks:colors]}}
\else
	\def\ctx@tikzducks@colors{}
    \ifcsname usepackage\endcsname
        \usepackage{tikzducks}
    \else
        \input tikzducks-plain\relax
    \fi 
\fi

\tikzset{
  duck/.pic={%
  	\ctx@tikzducks@colors%
    \duck@draw%
  },
  duck/.search also={,/tikz,/pgf},
}

\catcode`\@=12